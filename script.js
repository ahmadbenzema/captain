document.getElementById('connect-wallet').addEventListener('click', async () => { if (typeof window.ethereum !== 'undefined') { try { // Request account access const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' }); const account = accounts[0]; document.getElementById('connect-wallet').textContent = Connected: ${account.slice(0, 6)}...${account.slice(-4)}; // Sign a message to verify wallet ownership const message = 'Welcome to Captain Token! Sign to verify your wallet.'; const signature = await window.ethereum.request({ method: 'personal_sign', params: [message, account], }); console.log('Signature:', signature); alert('Wallet verified successfully!'); } catch (error) { console.error('Error connecting wallet:', error); alert('Failed to connect wallet. Please try again.'); } } else { alert('Please install MetaMask!'); } });