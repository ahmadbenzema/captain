// Web3Modal configuration const Web3Modal = window.Web3Modal.default; const WalletConnectProvider = window.WalletConnectProvider.default; const providerOptions = { walletconnect: { package: WalletConnectProvider, options: { infuraId: "YOUR_INFURA_ID" // Replace with your Infura ID or use a custom RPC } } }; const web3Modal = new Web3Modal({ network: "base", // Connect to Base network cacheProvider: false, providerOptions }); document.getElementById('connect-wallet').addEventListener('click', async () => { try { // Open Web3Modal to select wallet const provider = await web3Modal.connect(); const web3 = new Web3(provider); const accounts = await web3.eth.getAccounts(); const account = accounts[0]; // Update button text document.getElementById('connect-wallet').textContent = Connected: ${account.slice(0, 6)}...${account.slice(-4)}; // Sign a message to verify wallet ownership const message = 'Welcome to Captain Token! Sign to verify your wallet.'; const signature = await web3.eth.personal.sign(message, account, ''); console.log('Signature:', signature); alert('Wallet verified successfully!'); } catch (error) { console.error('Error connecting wallet:', error); alert('Failed to connect wallet: ' + error.message); } });