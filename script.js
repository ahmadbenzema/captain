// Import Web3Modal and Viem const { createWeb3Modal, defaultConfig } = window.Web3Modal; const { createClient, http } = window.viem; // Configure Base network const baseChain = { chainId: 8453, name: 'Base', currency: 'ETH', explorerUrl: 'https://basescan.org', rpcUrl: 'https://mainnet.base.org' }; // Web3Modal configuration const projectId = 'YOUR_WALLETCONNECT_PROJECT_ID'; // Replace with your WalletConnect Project ID const metadata = { name: 'Captain Token', description: 'A crypto adventure on Base network', url: 'https://captain-website.vercel.app', // Replace with your Vercel URL icons: ['https://via.placeholder.com/50'] }; const web3Modal = createWeb3Modal({ projectId, chains: [baseChain], defaultChain: baseChain, metadata }); // Connect Wallet document.getElementById('connect-wallet').addEventListener('click', async () => { try { // Open Web3Modal to select wallet const provider = await web3Modal.connect(); const client = createClient({ chain: baseChain, transport: http() }); const accounts = await client.getAddresses(); const account = accounts[0]; // Update button text document.getElementById('connect-wallet').textContent = Connected: ${account.slice(0, 6)}...${account.slice(-4)}; // Sign a message to verify wallet ownership const message = 'Welcome to Captain Token! Sign to verify your wallet.'; const signature = await client.signMessage({ account, message }); console.log('Signature:', signature); alert('Wallet verified successfully!'); } catch (error) { console.error('Error connecting wallet:', error); alert('Failed to connect wallet: ' + error.message); } });